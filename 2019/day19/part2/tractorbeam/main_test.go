package tractorbeam_test

import (
	"testing"

	"github.com/jlbribeiro/adventofcode/2019/day19/part2/tractorbeam"
)

func TestFirstSquareUnderTractorBeam(t *testing.T) {
	var testCases = []struct {
		name       string
		beam       string
		squareSize int
		skipNRows  int
		expected   int
	}{
		{
			name: "example1",
			beam: `#.......................................
.#......................................
..##....................................
...###..................................
....###.................................
.....####...............................
......#####.............................
......######............................
.......#######..........................
........########........................
.........#########......................
..........#########.....................
...........##########...................
...........############.................
............############................
.............#############..............
..............##############............
...............###############..........
................###############.........
................#################.......
.................##################.....
..................##################....
...................###################..
....................####################
.....................###################
.....................###################
......................##################
.......................#################
........................################
.........................###############
..........................##############
..........................##############
...........................#############
............................############
.............................###########`,
			squareSize: 10,
			skipNRows:  0,
			expected:   250020,
		},
	}

	for _, tc := range testCases {
		t.Run(tc.name, func(t *testing.T) {
			beam := tractorbeam.NewFakeTractorBeam(tc.beam)
			actual := tractorbeam.FirstSquareUnderTractorBeam(beam, tc.squareSize, tc.skipNRows)
			if actual != tc.expected {
				t.Errorf("expected %d, got %d", tc.expected, actual)
			}
		})
	}
}
